{% extends 'index.html' %}
{% load custom %}
{% load highlight %}


{% block main %}
    <style>
        span.highlighted {
            color: red;

        }
        #res {
            color: green;
        }
    </style>
    <form method="get" action="">
        {#    搜索标签#}
        {#        <table>#}
        {#            {{ form.as_table }}#}
        {#            <tr>#}
        {#                <td></td>#}
        {#                <td>#}
        {#                    <input type="submit" value="Search">#}
        {#                </td>#}
        {#            </tr>#}
        {#        </table>#}
        {% if query %}
            <h3>搜索结果如下：</h3>
            <div style="padding: 10px">
                {% for result in page.object_list %}
                    <a style="font-size: 20px" id="res"
                       href="/post/{{ result.object.id }}/">{{ result.object.published_date|date:"Y-m-d H:i" }} &nbsp;&nbsp; {% highlight result.object.title with query  %}<br/>
                    </a>

                    <br/>
                {% empty %}
                    <p>啥也没找到</p>
                {% endfor %}

                {% if page.has_previous or page.has_next %}
                    <div style="float: right;font-size:20px;">
                        {% if page.has_previous %}
                            <a href="?q={{ query }}&amp;page={{ page.previous_page_number }}">{% endif %}&laquo; 上一页
                        {% if page.has_previous %}</a>{% endif %}
                        |
                        {% if page.has_next %}<a href="?q={{ query }}&amp;page={{ page.next_page_number }}">{% endif %}
                        下一页 &raquo;{% if page.has_next %}</a>{% endif %}
                    </div>
                {% endif %}
            </div>

        {% endif %}
    </form>
{% endblock %}